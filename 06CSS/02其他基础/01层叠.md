层叠样式表css最基本的一个特性就是层叠，冲突的声明通过层叠进行排序。由此确定最终的文档表示。而这个过程的核心就是选择器以及相关声明的特殊性、重要性、来源以及继承机制。

## 特殊性
选择器的特殊性由选择器本身的组件决定，特殊性值表述为4部分，不同选择器的特殊性值：
1. 内联样式 (1,0,0,0)
2. ID属性值 (0,1,0,0)
3. 类属性值、属性选择0或伪类 (0,0,1,0)
4. 元素或伪元素 (0,0,0,1)
5. 结合符和通配选择符 (0,0,0,0)
特殊性的值是从左向右排序的，特殊性1,0,0,0大于所有以0开头的，在一组规则中，特殊性最高的规则胜出

## 重要性
有时某个声明非常重要，超过了所有其他声明，CSS2.1称之为重要声明，重要声明在声明的结束分号之前插入<code>!important</code>来标识。如果<code>!important</code>放在声明的其他任何位置，整个声明都将无效。如果一个声明是重要声明，则超过所有的非重要声明。

## 继承
继承是从一个元素向其后代元素传递属性值所采用的机制，基于继承机制，样式不仅可以应用到指定的元素，还可以应用到它的后代元素。在两个比较特殊的情况中要注意：一个是在HTML中，应用到body的背景样式可以传递到html元素，另一个是a标签不会继承父元素的文本样式。

## 来源
CSS 按照不同的来源分为3类:author、user、user agent(代理)
1. author(作者):来自文档的样式文件，我们平时所写的样式都是这一类的
2. user(用户):用户指定的自定义样式文件，一些UA允许用户导入自定义的样式文件
3. user agent(代理):一些UA，如浏览器，要为某些元素预设一个默认的样式，以方便阅读。
关于用户css并不常见，IE可以通过Internet选项->外观->辅助功能->用户样式表来指定样式文件。

## 层叠
CSS 层叠样式表的层叠特性就是让样式层叠在一起，通过特殊性、重要性、来源以及继承机制来排列层叠样式的顺序以及选出优胜者。
1. 首先，按照来源及重要性排序。在不考虑重要性的前提下，优先级顺序为:author>user>user agent。但是如果考虑重要性，则用户的优先级要大于作者的优先级，这样是为了平衡作者和用户，即，最终的排序为user!important>author!important>author>user>useragent
2. 接着，对于非重要声明来声明，按照特殊性排序。特殊性越高的规则，权重越大。
3. 最后，如果特殊性相同，则按照出现顺序排序。声明在样式表或文档中越靠后出现，权重越大。如果样式表中有通过@import导入的样式表，一般认为出现在导入样式表中的声明在前，主样式表的所有声明在后。