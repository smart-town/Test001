# 盒模型概述


所有的文档元素都会生成一个矩形框，这称为**元素框**(element box)，它描述了一个元素在文档布局中所占的空间大小，而且，每个框影响着其他元素框的大小和位置。

## 宽高

宽度 width 被定义为从左内边界到右内边界的距离。高度 height 被定义为从上内边界到下内边界的距离。在css中，可以对任何块级元素设置显式高度。如果指定高度小于显示内容的高度，则会向元素添加一个滚动条，如果元素内容的高度大于元素框的高度，浏览器的具体行为取决于`overflow`属性。

**注意**宽度和高度无法应用到行内非替换元素，且不能为负。
`width/height`
值：`length|percentage|auto|inherit`
初始值：auto
应用于：块级元素和替换元素
百分数：相对于包含块的width/height
计算值：对于auto和百分比，根据指定确定；否则是一个绝对长度，除非该元素不能应用该属性（此时为auto）。

### auto

宽高和margin可以设置auto。对于块级元素来说，宽度设置为auto则会尽可能地宽。详细来说，元素宽度=包含块宽度-元素水平外边距-元素水平边距宽度-元素水平内边距；高度设置为auto则会尽可能窄，详细来说，元素高度=恰好足以包含其内联内容的高度。**注意**如果没有显式地设置包含块的height，则元素的百分比高度会重置为auto。
**最大最小宽高**
设置最大最小宽高的好处是可以相对安全地混合使用不同的单位，使用百分比大小的同时，也可以设置基于长度的限制。

    `min-width|min-height`

    `max-width|max-height`

注意，当最小宽度（高度）大于最大宽度（高度）时，以最小宽高值为准。即如果最小宽为20，而最大宽为10，则实际最大宽为20.

### 内边距

相比于盒模型中的其他属性，如在定位中经常使用负值的margin,padding显得中规中矩很多。没有什么兼容性、特殊的问题。对于行内元素，左内边距应用到元素的开始处，右内边距应用到元素的结尾处。垂直内边距不影响行高。但是会影响自身尺寸。**注意**内边距不能是负值。

#### 50%

块级元素通常使用`padding:50%`实现正方形的效果。因为水平和垂直padding的百分比值都是相对于**包含块的宽度决定**的，常常用于移动端头图。如果是内联元素使用，必须配合font-size:0，因为使用inline元素的垂直padding会出现“幽灵空白”，也就是规范中的“stuct”。

#### 表单

1. 所有浏览器input/textarea/button都内置padding
2. 部分浏览器 select 下拉内置，有的不内置,有的可以设置select的padding，有的就不能。
3. 除了IE10以外的浏览器，radio/checkbox单选复选框无内置padding，且无法设置padding。

#### button兼容

1. 在firefox浏览器中，设置padding:0，按钮左右仍然有padding,此时需要使用firefox自有样式。`button::-moz-focus-inner{padding:0;}`
2. IE7下的文字越多，左右padding逐渐变大，设置`overflow:visible`可解决该问题
3. button按钮的padding与高度计算不兼容。可以使用label标签实现类似的效果，然后把按钮的button进行可访问性隐藏即可。

#### 下内边距缺失

firefox和IE8在overflow:scroll或auto时，存在padding-bottom缺失的现象

### 外边距

设置外边距margin会在元素外创建额外的空白，空白通常指不能放其他元素的区域。而且在这个区域中可以看到父元素的背景。外边距可以应用到行内元素，**上下外边距**对行高没有任何影响。由于上下外边距实际上是透明的，所以这个声明没有任何实际效果。左外边距应用到元素开始处；右外边距应用到元素结束处。
**【注意】**margin负值非常好用。

**【注意】**对于普通元素来说，包含块就是块级父元素，对于定位元素来说，包含块是定位父级。所以普通元素的margin百分比相对于块级父级元素的width，定位元素的margin百分比则是相对于定位父级的width

#### 关于margin重叠？

。。。
在网页布局中，因为margin重叠的原因，我们常常把margin作为一个“问题样式”而很少使用它，但实际上，它的作用是很大的。HTML文档创建的初衷只是用来展示信息的，HTML文档只使用默认样式的前提下，如果上下margin不发生重叠，则会出现以下的问题：1.连续的段落或者列表，如果没有margin重叠，首尾项间距会和其他兄弟元素呈现1:2的关系，排版不自然。2.web中任何一个地方嵌套或直接放入裸div，都会影响原生的布局。3.遗落空的任意多个p标签，会影响原来的阅读排版。

## 边框

元素外边距内就是元素边框border，元素的边框围绕着元素内容的内边距的一条线或者多条线。边框由**粗细、颜色、样式**三部分组成。对于行内元素来说，边框实际上画在各行之外的下一个像素上，由于各行紧挨着，所以其边框会重叠。无论行内元素的边框怎么设置，都不会对行高有任何影响。但是左右边框会分别显示在元素的开始处和结束处。

## box-sizing

在 css 中盒模型被分为两种一种是W3C的标准盒模型，一种是IE的怪异盒模型。不同之处在于后者的宽高决定的是可见元素框的尺寸而不是元素框的内容区尺寸。目前对于浏览器大多数元素都是基于标准盒模型，**但是对于表单form中的部分元素还是基于怪异盒模型**，如input中的radio、checkbox、button等元素，如果给其设置border和padding，它们也只会往元素盒内延伸。
在W3C的标准盒模型下，宽度和高度仅仅包含了内容区域，除去了内容和内边距两个区域。这样为设计师处理效果带来了麻烦，为了解决这个问题，CSS3新增了一个盒模型属性box-sizing，能够事先定义盒模型的尺寸解析方式。**注意**IE浏览器不支持。
取值：`content-box|border-box|padding-box|inherit`